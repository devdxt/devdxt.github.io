<!DOCTYPE html>
<html>
<head>
	<title>Test Armada</title>
	<link rel="stylesheet" type="text/css" href="/css/normalize.css">
	<link rel="stylesheet" type="text/css" href="/css/common.css">
	<link rel="stylesheet" type="text/css" href="/css/header.css">
	<link rel="stylesheet" type="text/css" href="/css/home.css">
	<link rel="stylesheet" type="text/css" href="/css/doc.css">
	<link rel="stylesheet" type="text/css" href="/css/training.css">
	<link rel="stylesheet" type="text/css" href="/css/faq.css">
	<link rel="stylesheet" type="text/css" href="/css/contact.css">
	<link rel="stylesheet" type="text/css" href="/css/search.css">
	<link rel="stylesheet" type="text/css" href="/css/custom.css">
	<link rel="stylesheet" type="text/css" href="/css/slick.css">
	<link rel="stylesheet" type="text/css" href="/css/prism.css">
	<link rel="stylesheet" type="text/css" href="/css/responsive.css">
	
	<link rel="shortcut icon" href="/documentation/images/favicon.ico">
	
</head>
<body>
	
	<header>
		<a href="/">
			<img src="/documentation/images/ta-logo.png" class="logo" alt="Main Brand Logo"
				 srcset="/documentation/images/ta-logo%402x.png 2x, /documentation/images/ta-logo%403x.png 3x">
		</a>
		<form action="/search" method="get">
			<input type="text" id="search-box" name="query" placeholder="Search" class="search-box">
			<div class="select-box">
				<select name="fleet" id="fleet-box" onchange="document.getElementById('search-box').focus();">
					<option value="all">All Fleets</option>
					
					<option value="Functional Testing">Functional Testing</option>
					
					<option value="Mocking">Mocking</option>
					
					<option value="Performance Testing">Performance Testing</option>
					
					<option value="Data Insights">Data Insights</option>
					
				</select>
			</div>
		</form>
		<div class="nav-links">
			
			<div class="nav-links__fleets">
				<a class="nav-links__fleets-btn">
					Fleets <img src="/images/arrow-down-icon.png" class="arrow-down-icon"
								srcset="/images/arrow-down-icon%402x.png 2x,
										/images/arrow-down-icon%403x.png 3x">
				</a>
				<div class="nav-links__fleets-content">
					<a href="/">
						All Fleets
					</a>
					
					<a href="/Functional Testing/">
						Functional Testing
					</a>
					
					<a href="/Mocking/">
						Mocking
					</a>
					
					<a href="/Performance Testing/">
						Performance Testing
					</a>
					
					<a href="/Data Insights/">
						Data Insights
					</a>
					
				</div>
			</div>
			
			
			
			
			<a href="/documentation/About.html" class="nav-links__main-links">About Us</a>
			
			
			
			
			
			
			<a href="/faq" class="nav-links__main-links">FAQ</a>
			
			
			
			<a href="https://github.com/TestArmada/" target="_blank" class="nav-links__main-links">GitHub</a>
			
		</div>
	</header>

	<div class="container">
		  <div class="clear"></div>
<div class="doc-container">
  <div class="breadcrumb doc-breadcrumb">
    <p>
      <a class="breadcrumb__link" href="/">Home</a>
      <img src="/images/arrow-right-icon.png"
           srcset="/images/arrow-right-icon@2x.png 2x,
                   /images/arrow-right-icon@3x.png 3x"
           class="arrow-right-icon">
      <a class="breadcrumb__link" href="/Mocking/">Mocking</a>
      <img src="/images/arrow-right-icon.png"
           srcset="/images/arrow-right-icon@2x.png 2x,
                   /images/arrow-right-icon@3x.png 3x"
           class="arrow-right-icon">
      <span class="breadcrumb__current-page">Native Android Java</span>
    </p>
  </div>
  <div class="clear"></div>
  <div class="sidebar">
    <ul>
    
    
    
    
    
    
    
    
    
    
    
    
      
      
        
          
          
            
            <li><a href="/documentation/Mocking/Native Android/Java/Introduction" class="sidebar__file-links sidebar__file-links-current">
              Introduction
            </a></li>
            
          
        
      
        
          
          
            
            <li><a href="/documentation/Mocking/Native Android/Java/Getting Started" class="sidebar__file-links">
              Getting Started
            </a></li>
            
          
        
      
        
          
            
            
              <li class="sidebar__file-links">Developer Guide</li>
            
          
          
          
            
            <li><a href="/documentation/Mocking/Native Android/Java/API Guide" class="sidebar__file-links sidebar__file-sublink">
              API Guide
            </a></li>
            
          
        
      
        
          
          
          
            
            <li><a href="/documentation/Mocking/Native Android/Java/Boilerplates" class="sidebar__file-links sidebar__file-sublink">
              Boilerplates
            </a></li>
            
          
        
      
        
          
          
            
            <li><a href="/documentation/Mocking/Native Android/Java/Contribution Guide" class="sidebar__file-links">
              Contribution Guide
            </a></li>
            
          
        
      
        
          
          
            
            <li><a href="/documentation/Mocking/Native Android/Java/FAQ" class="sidebar__file-links">
              FAQ
            </a></li>
            
          
        
      
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    </ul>
  </div>
  <div class="doc-content markdown">
    <h2 id="summary">Summary</h2>

<p>Most apps rely on one or many back end services. For successful test execution and fast development, all the dependent backend services should be reliable 100% of the time. However that is not possible as the backend services may be down from time to time for various reasons or may have data inconsistency issues which makes testing/development against live services inefficient and time consuming.</p>

<p>Shifu is a Java solution that enables you to quickly stub the API calls done by your app. During testing Shifu is deployed on the device/emulator enabling the app to point to the device localhost instead of calling live services. Pre-recorded responses are then returned for various endpoints from Shifu.</p>

<h2 id="use-case">Use Case</h2>

<p>As Shifu is deployed on the emulator/device there are no dependencies to a computer that might be on a secure hard to reach network. Shifu is also integrated directly with the tests and built into the test APK. Instrumentation testing frameworks like Espresso can be used. Shifu provides Espresso with an idling resource which further enhances your tests.</p>

<ul>
  <li>Provides an easy way to mock services</li>
  <li>Execute same test cases against mock or live service</li>
  <li>Easy to set up</li>
  <li>Ability to use same JSON response file and change data dynamically for mocked response for various variants</li>
  <li>No dependencies to extra APK or computer. Its a simple jar that works on both emulators and devices</li>
  <li>Shifu can be built into the test APK by using androidTestCompile</li>
  <li>Supports Record &amp; Replay</li>
  <li>HTTPS Support: HTTPS support for all the urls</li>
</ul>

<h2 id="impact">Impact</h2>
<p>Higher quality apps due to deterministic tests. As Shifu is easy to setup and use it also saves development time. Shifu supports record &amp; replay.</p>

<h2 id="work-flow">Work Flow</h2>
<p>The following is the work flow when mock server is used:<br /></p>
<ul>
  <li>Identify REST endpoints that needs to be mocked<br /></li>
  <li>Gather or record mocked data for those REST endpoints<br /></li>
  <li>Setup an instrumentation test that initiates Shifu<br /></li>
  <li>Setup mocks with Shifu<br /></li>
  <li>Configure app to communicate with Shifu<br /></li>
  <li>Run your instrumentation test and the mocked data will be returned for mocked routes.<br /></li>
</ul>

<h2 id="features-list">Features List:</h2>

<table>
  <thead>
    <tr>
      <th>Features</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Return multiple responses for same rest end point</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Support for HTTP (for mocking)</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Support for HTTPS (for mocking)</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Ease of SetUp</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Mock Java Services</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Run tests manually against mock service</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Read request (body, query parameters, etc) for mocked routes</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Supports server states</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Test Reuse</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Dynamic Transposition of Mock Data (JSON)</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Variants support for mocked REST APIs</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Mocked data response from specific folder irrespective of Rest APIs</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Support for record &amp; replay</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h2 id="customers">Customers</h2>

<p>The following teams are using Shifu:</p>

<ul>
  <li>
    <p>Android Core</p>
  </li>
  <li>
    <p>Omnichannel</p>
  </li>
</ul>


  </div>
  <div class="clear"></div>
</div>
<script type="text/javascript">
  var elements = document.getElementsByClassName('highlight');
  for (var i = 0; i < elements.length; i++) {
    elements[i].className += " line-numbers";
    if (!elements[i].parentElement.classList.value.match(/language/)) {
      elements[i].children[0].className = "language-javascript";
    }
  }
</script>
<script type="text/javascript" src="/js/prism.js"></script>
<script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/doc.js"></script>
	</div>

	<footer>
		<img class="left-footer-logo" alt="Left Footer Logo"
			 src="/documentation/images/dxt-logo.png"
			 srcset="/documentation/images/dxt-logo%402x.png 2x,
					 /documentation/images/dxt-logo%403x.png 3x">
		
		<span class="copyright">&copy; 2018 Walmart Inc.</span>
		
		<img class="right-footer-logo" alt="Right Footer Logo"
			 src="/documentation/images/walmartlabs-logo.png"
			 srcset="/documentation/images/walmartlabs-logo%402x.png 2x,
			 		 /documentation/images/walmartlabs-logo%403x.png 3x">
	</footer>

</body>
</html>
